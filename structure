
Expression
not available
Ôªø
react-dom-client.development.js:28003 Download the React DevTools for a better development experience: https://react.dev/link/react-devtools
:9090/api/trainer/fe‚Ä¶har%20agrawal%202:1 
 
 Failed to load resource: the server responded with a status of 404 ()
react-dom-client.development.js:6099 
 Uncaught Error: Objects are not valid as a React child (found: object with keys {error}). If you meant to render a collection of children, use an array instead.
    at throwOnInvalidObjectTypeImpl (react-dom-client.development.js:6099:1)
    at throwOnInvalidObjectType (react-dom-client.development.js:6109:1)
    at reconcileChildFibersImpl (react-dom-client.development.js:7058:1)
    at react-dom-client.development.js:7098:1
    at reconcileChildren (react-dom-client.development.js:9699:1)
    at beginWork (react-dom-client.development.js:11988:1)
    at runWithFiberInDEV (react-dom-client.development.js:870:1)
    at performUnitOfWork (react-dom-client.development.js:17639:1)
    at workLoopSync (react-dom-client.development.js:17469:1)
    at renderRootSync (react-dom-client.development.js:17450:1)
react-dom-client.development.js:9362 
 An error occurred in the <div> component.

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.



Uncaught runtime errors:
√ó
ERROR
Objects are not valid as a React child (found: object with keys {error}). If you meant to render a collection of children, use an array instead.
    at throwOnInvalidObjectTypeImpl (http://localhost:3000/static/js/bundle.js:11923:11)
    at throwOnInvalidObjectType (http://localhost:3000/static/js/bundle.js:11927:106)
    at reconcileChildFibersImpl (http://localhost:3000/static/js/bundle.js:12250:9)
    at http://localhost:3000/static/js/bundle.js:12262:31
    at reconcileChildren (http://localhost:3000/static/js/bundle.js:13821:47)
    at beginWork (http://localhost:3000/static/js/bundle.js:14637:1565)
    at runWithFiberInDEV (http://localhost:3000/static/js/bundle.js:9089:68)
    at performUnitOfWork (http://localhost:3000/static/js/bundle.js:16998:93)
    at workLoopSync (http://localhost:3000/static/js/bundle.js:16893:38)
    at renderRootSync (http://localhost:3000/static/js/bundle.js:16878:7)



import api from "./axiosConfig";

export const getTrainerBatches = (id) =>
  api.get(`/api/trainer/batches/${id}`);

export const createTask = (data) =>
  api.post("/api/trainer/tasks", data);

export const updateTask = (taskId, data) =>
  api.put(`/api/trainer/tasks/${taskId}`, data);

export const deleteTask = (taskId) =>
  api.delete(`/api/trainer/tasks/${taskId}`);

export const markAttendance = (data) =>
  api.post("/api/trainer/attendance", data);

export const givePerformance = (data) =>
  api.post("/api/trainer/performance", data);

// IMPORTANT: FIXED FUNCTION
export const getUsersByTrainerId = (trainerId) =>
  api.get(`/api/trainer/UserBatch/${trainerId}`);

// Get All Tasks created by Trainer
export const getTasksByTrainerId = (trainerId) =>
  api.get(`/api/trainer/tasks/${trainerId}`);

// ‚≠ê NEW: Get Feedback by Trainer Name
export const getFeedbackByTrainerName = (trainerName) =>
  api.get(`/api/trainer/feedback/${trainerName}`);

import api from "./axiosConfig";

// USER REGISTRATION
export const registerUser = (data) => api.post("/api/user/register", data);

// PUBLIC BATCH LIST ‚Äî no login required
export const getAllBatchesPublic = () => api.get("/api/user/batches");

// USER FEATURES
export const getUserTasks = (id) => api.get(`/api/user/${id}/tasks`);
export const getUserPerformance = (id) => api.get(`/api/user/${id}/performance`);
export const getBatchDetails = (id) => api.get(`/api/user/batch/${id}`);
export const submitFeedback = (data) => api.post("/api/user/feedback", data);
export const getUserStipends = (id) => api.get(`/api/user/${id}/stipends`);
export const getUserAttendance = (id) => api.get(`/api/user/${id}/attendance`);


import React from "react";
import Navbar from "../../components/Navbar";
import Sidebar from "../../components/Sidebar";
import "../../styles/dashboard.css";

export default function TrainerDashboard() {
  const items = [
    { to: "/trainer/batches", label: "My Batches" },
    { to: "/trainer/users", label: "Users in Batch" },
    { to: "/trainer/create-task", label: "Create Task" },
    { to: "/trainer/tasks", label: "View Tasks" },
    { to: "/trainer/attendance", label: "Mark Attendance" },
    { to: "/trainer/performance", label: "Give Performance" },
    { to: "/trainer/feedback", label: "View Feedback" } // ‚≠ê ADDED
  ];

  return (
    <div className="layout">
      <Navbar />
      <Sidebar items={items} />
      <div className="main fadeIn">
        <h2 className="dash-title">Trainer Portal</h2>
        <p className="dash-sub">
          Manage batches, tasks & attendance easily.
        </p>

        <div className="dashboard-info">
          <div className="info-card">
            <h3>üìå Assign Tasks</h3>
            <p>Create assignments and track submissions.</p>
          </div>

          <div className="info-card">
            <h3>üìù Attendance</h3>
            <p>Mark and review attendance daily.</p>
          </div>

          <div className="info-card">
            <h3>‚≠ê Performance</h3>
            <p>Evaluate student progress and growth.</p>
          </div>
        </div>
      </div>
    </div>
  );
}


import React, { useState, useEffect } from "react";
import Navbar from "../../components/Navbar";
import Sidebar from "../../components/Sidebar";
import { getFeedbackByTrainerName } from "../../api/trainerApi";

export default function TrainerFeedback() {
  const [feedbacks, setFeedbacks] = useState([]);
  const [msg, setMsg] = useState("");

  const trainerName = localStorage.getItem("trainerName"); // AUTO-FETCH trainer name

  const items = [
    { to: "/trainer/dashboard", label: "Dashboard" },
    { to: "/trainer/batches", label: "My Batches" },
    { to: "/trainer/create-task", label: "Create Task" },
    { to: "/trainer/attendance", label: "Mark Attendance" },
    { to: "/trainer/performance", label: "Give Performance" },
    { to: "/trainer/users", label: "Users in Batch" },
    { to: "/trainer/tasks", label: "View Tasks" },
    { to: "/trainer/performance-list", label: "View Performance" },
    { to: "/trainer/feedback", label: "View Feedback" },
  ];

  useEffect(() => {
    fetchFeedback();
    // eslint-disable-next-line
  }, []);

  const fetchFeedback = async () => {
    setMsg("");
    try {
      const res = await getFeedbackByTrainerName(trainerName);
      setFeedbacks(res.data || []);
      if (!res.data || res.data.length === 0) {
        setMsg("No feedback found for you yet.");
      }
    } catch (err) {
      setMsg(err?.response?.data || "Error fetching feedback");
    }
  };

  return (
    <div className="layout">
      <Navbar />
      <Sidebar items={items} />

      <div className="main fadeIn">
        <h3>‚≠ê Feedback Received</h3>

        {msg && <div className="info">{msg}</div>}

        {feedbacks.length > 0 && (
          <table className="table" style={{ marginTop: 20 }}>
            <thead>
              <tr>
                <th>User ID</th>
                <th>User Name</th>
                <th>Feedback</th>
                <th>Rating</th>
                <th>Date</th>
              </tr>
            </thead>

            <tbody>
              {feedbacks.map((f) => (
                <tr key={f.id}>
                  <td>{f.userId}</td>
                  <td>{f.userName}</td>
                  <td>{f.feedback}</td> {/* FIX DONE */}
                  <td>{f.rating}</td>
                  <td>{new Date(f.date).toLocaleString()}</td>
                </tr>
              ))}
            </tbody>
          </table>
        )}
      </div>
    </div>
  );
}


import React from "react";
import Navbar from "../../components/Navbar";
import Sidebar from "../../components/Sidebar";
import "../../styles/dashboard.css";

export default function UserDashboard() {
  const items = [
    { to: "/user/tasks", label: "My Tasks" },
    { to: "/user/performance", label: "My Performance" },
    { to: "/user/stipends", label: "My Stipends" },
    { to: "/user/attendance", label: "My Attendance" },
    { to: "/user/feedback", label: "Give Feedback" },
  ];

  return (
    <div className="layout">
      <Navbar />
      <Sidebar items={items} />

      <div className="main fadeIn">
        <h2 className="dash-title">Intern Portal</h2>
        <p className="dash-sub">Track your learning and performance.</p>

        <div className="dashboard-info">
          <div className="info-card">
            <h3>üìö Tasks</h3>
            <p>Track your deadlines and progress.</p>
          </div>

          <div className="info-card">
            <h3>üìä Performance</h3>
            <p>Monitor scores and achievements.</p>
          </div>

          <div className="info-card">
            <h3>üíµ Stipends</h3>
            <p>View stipend status securely.</p>
          </div>
        </div>
      </div>
    </div>
  );
}


import React, { useState } from "react";
import { submitFeedback } from "../../api/userApi";
import Navbar from "../../components/Navbar";
import Sidebar from "../../components/Sidebar";

export default function FeedbackForm() {
  const [form, setForm] = useState({ userId: "", userName: "", batchCode: "", trainerName: "", feedback: "", rating: 5 });
  const [msg, setMsg] = useState("");

  const handleSubmit = async (e) => {
    e.preventDefault();
    try {
      await submitFeedback(form);
      setMsg("Feedback submitted.");
      setTimeout(() => setMsg(""), 2000);
    } catch (e) {
      setMsg(e?.response?.data || e.message);
    }
  };

  return (
    <div className="layout">
      <Navbar />
      <Sidebar items={[{ to: "/user/dashboard", label: "Dashboard" }]} />
      <div className="main">
        <h3>Give Feedback</h3>
        {msg && <div className="info">{msg}</div>}
        <form className="small-form" onSubmit={handleSubmit}>
          <input placeholder="User ID" value={form.userId} onChange={(e)=>setForm({...form,userId:e.target.value})} />
          <input placeholder="User Name" value={form.userName} onChange={(e)=>setForm({...form,userName:e.target.value})} />
          <input placeholder="Batch Code" value={form.batchCode} onChange={(e)=>setForm({...form,batchCode:e.target.value})} />
          <input placeholder="Trainer Name" value={form.trainerName} onChange={(e)=>setForm({...form,trainerName:e.target.value})} />
          <textarea placeholder="Feedback" value={form.feedback} onChange={(e)=>setForm({...form,feedback:e.target.value})}></textarea>
          <input placeholder="Rating (1-5)" value={form.rating} onChange={(e)=>setForm({...form,rating:Number(e.target.value)})} />
          <button className="btn" type="submit">Submit</button>
        </form>
      </div>
    </div>
  );
}


import React from "react";
import { BrowserRouter, Routes, Route } from "react-router-dom";
import AuthProvider from "./context/AuthContext";
import ProtectedRoute from "./components/protectedRoute";
import ThemeToggle from "./components/ThemeToggle";

// Pages
import Home from "./pages/Home/Home";
import Login from "./pages/Auth/Login";
import RegisterUser from "./pages/User/RegisterUser";

// Admin Pages
import AdminDashboard from "./pages/Admin/AdminDashboard";
import CreateTrainer from "./pages/Admin/CreateTrainer";
import ViewTrainers from "./pages/Admin/ViewTrainers";
import CreateBatch from "./pages/Admin/CreateBatch";
import ViewBatches from "./pages/Admin/ViewBatches";
import GiveStipend from "./pages/Admin/GiveStipend";
import ViewUsers from "./pages/Admin/ViewUsers";

// Trainer Pages
import TrainerDashboard from "./pages/Trainer/TrainerDashboard";
import TrainerBatches from "./pages/Trainer/TrainerBatches";
import CreateTask from "./pages/Trainer/CreateTask";
import UpdateTask from "./pages/Trainer/UpdateTask";
import MarkAttendance from "./pages/Trainer/MarkAttendance";
import GivePerformance from "./pages/Trainer/GivePerformance";
import UsersInBatch from "./pages/Trainer/UsersInBatch";
import TrainerViewTasks from "./pages/Trainer/TrainerViewTasks";
import TrainerFeedback from "./pages/Trainer/TrainerFeedback"; // ‚≠ê NEW IMPORT

// User Pages
import UserDashboard from "./pages/User/UserDashboard";
import UserTasks from "./pages/User/UserTasks";
import UserPerformance from "./pages/User/UserPerformance";
import BatchDetails from "./pages/User/BatchDetails";
import FeedbackForm from "./pages/User/FeedbackForm";
import UserStipends from "./pages/User/UserStipends";
import UserAttendance from "./pages/User/UserAttendance";

export default function App() {
  return (
    <AuthProvider>
      <BrowserRouter>
        <ThemeToggle />

        <Routes>
          {/* Public */}
          <Route path="/" element={<Home />} />
          <Route path="/login" element={<Login />} />
          <Route path="/user/register" element={<RegisterUser />} />

          {/* Admin Panel */}
          <Route element={<ProtectedRoute role="ROLE_ADMIN" />}>
            <Route path="/admin/dashboard" element={<AdminDashboard />} />
            <Route path="/admin/create-trainer" element={<CreateTrainer />} />
            <Route path="/admin/view-trainers" element={<ViewTrainers />} />
            <Route path="/admin/create-batch" element={<CreateBatch />} />
            <Route path="/admin/view-batches" element={<ViewBatches />} />
            <Route path="/admin/give-stipend" element={<GiveStipend />} />
            <Route path="/admin/view-users" element={<ViewUsers />} />
          </Route>

          {/* Trainer Panel */}
          <Route element={<ProtectedRoute role="ROLE_TRAINER" />}>
            <Route path="/trainer/dashboard" element={<TrainerDashboard />} />
            <Route path="/trainer/batches" element={<TrainerBatches />} />
            <Route path="/trainer/create-task" element={<CreateTask />} />
            <Route path="/trainer/update-task/:taskId" element={<UpdateTask />} />
            <Route path="/trainer/attendance" element={<MarkAttendance />} />
            <Route path="/trainer/performance" element={<GivePerformance />} />
            <Route path="/trainer/users" element={<UsersInBatch />} />
            <Route path="/trainer/tasks" element={<TrainerViewTasks />} />
            <Route path="/trainer/feedback" element={<TrainerFeedback />} /> {/* ‚≠ê ADDED */}
          </Route>

          {/* User Panel */}
          <Route element={<ProtectedRoute role="ROLE_USER" />}>
            <Route path="/user/dashboard" element={<UserDashboard />} />
            <Route path="/user/tasks" element={<UserTasks />} />
            <Route path="/user/performance" element={<UserPerformance />} />
            <Route path="/user/batch/:batchCode" element={<BatchDetails />} />
            <Route path="/user/feedback" element={<FeedbackForm />} />
            <Route path="/user/stipends" element={<UserStipends />} />
            <Route path="/user/attendance" element={<UserAttendance />} />
          </Route>
        </Routes>
      </BrowserRouter>
    </AuthProvider>
  );
}
